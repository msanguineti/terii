!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?s(exports):"function"==typeof define&&define.amd?define(["exports"],s):s((t="undefined"!=typeof globalThis?globalThis:t||self).terii={})}(this,(function(t){"use strict";t.Store=class{constructor({actions:t,mutations:s,initialState:e}){this._actions=null!=t?t:{},this._mutations=null!=s?s:{},this._status="RESTING",this._callbacks=[],this._state=new Proxy(e||{},{set:(t,s,e)=>(t[s]=e,this.processCallbacks(t),this._status="RESTING",!0)})}get state(){return{...this._state}}get status(){return this._status}dispatch(t,s){return"function"!=typeof this._actions[t]?(console.error(`Action "${t}" doesn't exist.`),!1):(this._status="ACTION",this._actions[t](this,s))}commit(t,s){if("function"!=typeof this._mutations[t])return console.error(`Mutation "${t}" doesn't exist`),!1;this._status="MUTATION";const e=this._mutations[t](this._state,s);return this._state=Object.assign(this._state,e),!0}subscribe(t){return"function"!=typeof t?(console.error("You can only subscribe to Store changes with a valid function"),!1):(this._callbacks.push(t),!0)}processCallbacks(...t){return!!this._callbacks.length&&(this._callbacks.forEach((s=>s(t))),!0)}},Object.defineProperty(t,"__esModule",{value:!0})}));
